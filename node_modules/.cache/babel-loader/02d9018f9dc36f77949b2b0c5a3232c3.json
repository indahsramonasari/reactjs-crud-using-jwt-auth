{"ast":null,"code":"var _jsxFileName = \"/Users/indahsramonasari/Documents/LEARN/react-jwt-auth/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport userService from \"./services/user-service\";\nimport Home from \"./components/homepage-component\";\nimport Signup from \"./components/signup-component\";\nimport Signin from \"./components/signin-component\";\nimport Product from \"./components/product-component\";\nimport eventListener from \"./common/listener\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n    this.state = {\n      currentUser: undefined,\n      showProduct: false\n    };\n  }\n\n  logOut() {\n    userService.logout();\n  }\n\n  componentDidMount() {\n    const user = userService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showProduct: true\n      });\n    }\n\n    eventListener.on(\"signout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    eventListener.remove(\"signout\");\n    this.setState({\n      currentUser: undefined,\n      showProduct: false\n    });\n  }\n\n  render() {\n    const {\n      showProduct\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-expand navbar-dark bg-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Products Management\")), React.createElement(\"div\", {\n      className: \"navbar-nav mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Sign Up\"))), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signin\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Sign In\"))), showProduct && React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/product\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Product\"))), showProduct && React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/add\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Add New Product\"))))), React.createElement(\"div\", {\n      className: \"container mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: [\"/\", \"/home\"],\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signin\",\n      component: Signin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      component: Signup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/product\",\n      component: Product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/add\",\n      component: Add,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/indahsramonasari/Documents/LEARN/react-jwt-auth/src/App.js"],"names":["React","Component","Switch","Route","Link","userService","Home","Signup","Signin","Product","eventListener","App","constructor","props","logOut","bind","state","currentUser","undefined","showProduct","logout","componentDidMount","user","getCurrentUser","setState","on","componentWillUnmount","remove","render","Add"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport userService from \"./services/user-service\";\nimport Home from \"./components/homepage-component\";\nimport Signup from \"./components/signup-component\";\nimport Signin from \"./components/signin-component\";\nimport Product from \"./components/product-component\";\n\nimport eventListener from \"./common/listener\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      currentUser: undefined,\n      showProduct : false\n    };\n  }\n\n  logOut() {\n    userService.logout();\n  }\n\n  componentDidMount() {\n    const user = userService.getCurrentUser();\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showProduct : true\n      });\n    }\n    eventListener.on(\"signout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    eventListener.remove(\"signout\");\n    this.setState({\n      currentUser: undefined,\n      showProduct : false\n    });\n  }\n\n  render() {\n    const { showProduct } = this.state;\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand navbar-dark bg-primary\">\n          <Link to={\"/\"} className=\"navbar-brand\">\n            <b>Products Management</b>\n          </Link>\n          <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/signup\"} className=\"nav-link\">\n              <b>Sign Up</b>\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to={\"/signin\"} className=\"nav-link\">\n              <b>Sign In</b>\n              </Link>\n            </li>\n\n            {showProduct && (\n              <li className=\"nav-item\">\n                <Link to={\"/product\"} className=\"nav-link\">\n                <b>Product</b>\n                </Link>\n              </li>\n            )}\n            \n            {showProduct && (\n              <li className=\"nav-item\">\n                <Link to={\"/add\"} className=\"nav-link\">\n                <b>Add New Product</b>\n                </Link>\n              </li>\n            )}\n\n          </div>\n        </nav>\n\n        <div className=\"container mt-3\">\n          <Switch>\n            <Route exact path={[\"/\", \"/home\"]} component={Home} />\n            <Route exact path=\"/signin\" component={Signin} />\n            <Route exact path=\"/signup\" component={Signup} />\n            <Route exact path=\"/product\" component={Product} />\n            <Route exact path=\"/add\" component={Add} />\n          </Switch>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}